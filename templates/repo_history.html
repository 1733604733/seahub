{% extends "myhome_base.html" %}
{% load seahub_tags %}

{% block left_panel %}
<ul>
    <li><a href="{{ SITE_ROOT }}repo/{{ repo.props.id }}/">返回同步目录页面</a></li>
</ul>
{% endblock %}

{% block right_panel %}
<h2>{{repo.props.name}} 修改历史</h2>
<table>
    <tr>
        <th width="20%">修改时间</th>
        <th width="80%">描述</th>
    </tr>
    {% for commit in commits %}
    <tr>
        <td>{{ commit.props.ctime|tsstr_sec }}</td>
        <td>{{ commit.props.desc }}</td>
    </tr>
    {% endfor %}
</table>
<div id="paginator">
    {% if current_page != 1 %}
    <a href="?page={{ prev_page }}&per_page={{ per_page }}">上一页</a>
    {% endif %}
    {% if page_next %}
    <a href="?page={{ next_page }}&per_page={{ per_page }}">下一页</a>
    {% endif %}
    <span>每页：</span>
    {% if per_page == 25 %}
    <span> 25 </span>
    {% else %}
    <a href="?per_page=25" class="per-page">25</a>
    {% endif %}
    {% if per_page == 50 %}
    <span> 50 </span>
    {% else %}
    <a href="?per_page=50" class="per-page">50</a>
    {% endif %}
    {% if per_page == 100 %}
    <span> 100 </span> 
    {% else %}
    <a href="?per_page=100" class="per-page">100</a>
    {% endif %}
</div>
{% endblock %}
